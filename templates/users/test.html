{% extends 'base.html' %}
{% load static %}
{% load tailwind_filters %}

{% load humanize %}

{% block title %}{{user.username}} Details{% endblock title %}
{% block extra_head %}{% endblock extra_head %}

<!-- NAVBAR -->
{% block navbar %}
{% include 'components/navbar.html' %}
{% endblock navbar %}


<!-- MAIN -->
<!-- left sidebar -->
{% block left_sidebar %}
{% include 'components/sidebars/left/sidebar.html' %}
{% endblock left_sidebar %}

<!-- main content -->
{% block content %}
<div class="container mx-auto flex flex-wrap py-6         ">

    <!-- Post Section -->
    <section class="w-full md:w-2/3  flex flex-col items-center px-3">

        <article class="flex flex-col shadow my-4">
            <!-- Article Image -->
            <div class=" ">
                <img src="{{post.banner.url}}">
            </div>
            <div class="bg-white flex flex-col justify-start p-6 ">

                <a href="#" class="text-blue-700 text-sm font-bold uppercase pb-4">{{post.category}}</a>
                <a href="#" class="text-3xl font-bold hover:text-gray-700 pb-4">{{post.title}}</a>
                <span class="dark:text-gray-400 text-xs flex items-center">
                    {{post.create_on|naturalday }}
                </span>
                {% for bodypost in bodyposts %}
                {% if bodypost.type == "PARRAFO" %}
                <p class="pb-3">
                    {{bodypost.body}}
                </p>
                {% elif bodypost.type == "CODIGO" %}

                <div class="w-24 min-w-full ">
                    <pre class="language-py "><code class="language-py">{{bodypost.body}}</code></pre>
                </div>



                {% elif bodypost.type == "TITULO" %}
                <h1 class="text-3xl font-bold hover:text-gray-700 pb-4">{{bodypost.body}}</h1>
                {% elif bodypost.type == "SUBTITULO" %}
                <h1 class="text-2xl font-bold pb-3">{{bodypost.body}}</h1>
                {% elif bodypost.type == "IMAGEN" %}
                <img src="{{bodypost.imagen.url}}">
                {% endif %}

                {% endfor %}


            </div>

        </article>
        <div class="flex items-center ">
            <a href="#" class="block relative">
                <img alt="profil" src="{{post.author.profile.pinture.url}}"
                    class="mx-auto object-cover rounded-full h-10 w-10 " />
            </a>
            <div class="flex flex-col ml-2 justify-between">
                <span class="font-semibold text-indigo-500 text-sm capitalize ">
                    {{post.author }}
                </span>
                <span class="dark:text-gray-400 text-xs flex items-center">
                    {{post.create_on|naturalday }}
                </span>



            </div>


        </div>

        <div class=" flex md:justify-start mb-12 w-full" x-data="{ open: false }">
            <div class="">
                <div class="">
                    <button type=" button" @click="open = true"
                        class="py-2 px-2   bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 focus:ring-offset-indigo-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-lg ">
                        <div class="flex ">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                style="fill: rgb(255, 255, 255);transform: ;msFilter:;">
                                <path
                                    d="M22 7.999a1 1 0 0 0-.516-.874l-9.022-5a1.003 1.003 0 0 0-.968 0l-8.978 4.96a1 1 0 0 0-.003 1.748l9.022 5.04a.995.995 0 0 0 .973.001l8.978-5A1 1 0 0 0 22 7.999zm-9.977 3.855L5.06 7.965l6.917-3.822 6.964 3.859-6.918 3.852z">
                                </path>
                                <path
                                    d="M20.515 11.126 12 15.856l-8.515-4.73-.971 1.748 9 5a1 1 0 0 0 .971 0l9-5-.97-1.748z">
                                </path>
                                <path
                                    d="M20.515 15.126 12 19.856l-8.515-4.73-.971 1.748 9 5a1 1 0 0 0 .971 0l9-5-.97-1.748z">
                                </path>
                            </svg>
                            <p class="mx-3">Agregar Contenido</p>
                        </div>
                    </button>
                </div>
            </div>
            <!--Modal {Publicar nuevo post} -->
            <div x-show="open" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0"
                x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200"
                x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" @click.away="open = false"
                class="fixed z-10 inset-0 overflow-y-auto" aria-labelledby="modal-title" role="dialog"
                aria-modal="true">
                <div class=" min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">

                    <div x-show="open" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0"
                        x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200"
                        x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
                        x-description="Background overlay, show/hide based on modal state."
                        class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" @click="open = false"
                        aria-hidden="true"></div>

                    <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>


                    <div class="inline-block align-bottom dark:bg-dark-second bg-white rounded-lg px-4
            pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle">

                        <section class=" bg-gray-100 bg-opacity-50">
                            <form method="POST" enctype="multipart/form-data" class="shadow-md ">
                                {% csrf_token %}
                                <div class="space-y-4 bg-white">


                                    <div
                                        class="items-center w-full p-4 space-y-4 text-gray-500 md:inline-flex md:space-y-0">
                                        <h2 class="max-w-sm mx-auto md:w-1/3">
                                            Descripci√≥n
                                        </h2>
                                        <div class="max-w-sm mx-auto md:w-2/3">
                                            <div class=" relative ">
                                                {{form.body}}
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="items-center w-full p-4 space-y-4 text-gray-500 md:inline-flex md:space-y-0">
                                        <h2 class="max-w-sm mx-auto md:w-1/3">
                                            Imagen
                                        </h2>
                                        <div class="max-w-sm mx-auto md:w-2/3">
                                            <div class=" relative ">
                                                {{form.imagen}}

                                            </div>
                                        </div>
                                    </div>
                                    <hr />

                                    <div
                                        class="items-center w-full p-4 space-y-4 text-gray-500 md:inline-flex md:space-y-0">
                                        <h2 class="max-w-sm mx-auto md:w-1/3">
                                            Categoria
                                        </h2>
                                        <div class="max-w-sm mx-auto md:w-2/3">
                                            <div class=" relative ">
                                                {{form.type}}
                                            </div>
                                        </div>
                                    </div>
                                    <hr />
                                    <div class="px-4 pb-4 ml-auto text-gray-500 md:w-1/3">
                                        <button type="submit"
                                            class="flex justify-center py-2 px-4   bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 focus:ring-offset-blue-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-lg ">
                                            <p class="mx-3">Publicar</p><svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24" viewBox="0 0 24 24"
                                                style="fill: rgba(255, 255, 255, 1);transform: ;msFilter:;">
                                                <path
                                                    d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zM4 12c0-.899.156-1.762.431-2.569L6 11l2 2v2l2 2 1 1v1.931C7.061 19.436 4 16.072 4 12zm14.33 4.873C17.677 16.347 16.687 16 16 16v-1a2 2 0 0 0-2-2h-4v-3a2 2 0 0 0 2-2V7h1a2 2 0 0 0 2-2v-.411C17.928 5.778 20 8.65 20 12a7.947 7.947 0 0 1-1.67 4.873z">
                                                </path>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </section>


                    </div>

                </div>
            </div>
            <!--End Modal-->
        </div>


        <div class="w-full flex pt-6">
            <a href="#" class="w-1/2 bg-white shadow hover:shadow-md text-left p-6">
                <p class="text-lg text-blue-800 font-bold flex items-center"><i class="fas fa-arrow-left pr-1"></i>
                    Previous</p>
                <p class="pt-2">Lorem Ipsum Dolor Sit Amet Dolor Sit Amet</p>
            </a>
            <a href="#" class="w-1/2 bg-white shadow hover:shadow-md text-right p-6">
                <p class="text-lg text-blue-800 font-bold flex items-center justify-end">Next <i
                        class="fas fa-arrow-right pl-1"></i></p>
                <p class="pt-2">Lorem Ipsum Dolor Sit Amet Dolor Sit Amet</p>
            </a>
        </div>

        <div class="w-full flex flex-col text-center md:text-left md:flex-row shadow bg-white mt-10 mb-10 p-6">
            <div class="w-full md:w-1/5 flex justify-center md:justify-start pb-4">
                <img src="https://source.unsplash.com/collection/1346951/150x150?sig=1"
                    class="rounded-full shadow h-32 w-32">
            </div>
            <div class="flex-1 flex flex-col justify-center md:justify-start">
                <p class="font-semibold text-2xl">David</p>
                <p class="pt-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur vel neque non libero
                    suscipit suscipit eu eu urna.</p>
                <div class="flex items-center justify-center md:justify-start text-2xl no-underline text-blue-800 pt-4">
                    <a class="" href="#">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a class="pl-4" href="#">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a class="pl-4" href="#">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a class="pl-4" href="#">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </div>
            </div>
        </div>

    </section>

    <!-- Sidebar Section -->
    <aside class="w-full md:w-1/3  flex flex-col items-center px-3">

        <div class="w-full bg-white shadow flex flex-col my-4 p-6">
            <p class="text-xl font-semibold pb-5">About Us</p>
            <p class="pb-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas mattis est eu odio
                sagittis tristique. Vestibulum ut finibus leo. In hac habitasse platea dictumst.</p>
            <a href="#"
                class="w-full bg-blue-800 text-white font-bold text-sm uppercase rounded hover:bg-blue-700 flex items-center justify-center px-2 py-3 mt-4">
                Get to know us
            </a>
        </div>

        <div class="w-full bg-white shadow flex flex-col my-4 p-6">
            <p class="text-xl font-semibold pb-5">Instagram</p>
            <div class="grid grid-cols-3 gap-3">
                <img class="hover:opacity-75" src="https://source.unsplash.com/collection/1346951/150x150?sig=1">
                <img class="hover:opacity-75" src="https://source.unsplash.com/collection/1346951/150x150?sig=2">
                <img class="hover:opacity-75" src="https://source.unsplash.com/collection/1346951/150x150?sig=3">
                <img class="hover:opacity-75" src="https://source.unsplash.com/collection/1346951/150x150?sig=4">
                <img class="hover:opacity-75" src="https://source.unsplash.com/collection/1346951/150x150?sig=5">
                <img class="hover:opacity-75" src="https://source.unsplash.com/collection/1346951/150x150?sig=6">
                <img class="hover:opacity-75" src="https://source.unsplash.com/collection/1346951/150x150?sig=7">
                <img class="hover:opacity-75" src="https://source.unsplash.com/collection/1346951/150x150?sig=8">
                <img class="hover:opacity-75" src="https://source.unsplash.com/collection/1346951/150x150?sig=9">
            </div>
            <a href="#"
                class="w-full bg-blue-800 text-white font-bold text-sm uppercase rounded hover:bg-blue-700 flex items-center justify-center px-2 py-3 mt-6">
                <i class="fab fa-instagram mr-2"></i> Follow @dgrzyb
            </a>
        </div>

    </aside>

</div>
{% endblock content %}

<!-- right content -->
{% block right_sidebar %}
{% endblock right_sidebar %}


<!-- FOOTER -->
{% block footer %}

{% endblock footer %}


{% block javascript %}
<script src="{% static 'js/prism.js' %}"></script>
{% endblock javascript %}