{% load static %}

<!-- Topic Nav dark:bg-gray-800 -->
<nav class=" w-full bg-gray-50 ">
    <div x-data="{ open: false }"
        class="flex flex-col max-w-screen-xl p-5 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8">
        <div class="flex flex-row items-center  justify-between lg:justify-start">
            <a href="/"
                class="text-lg font-bold tracking-tighter text-green-500 transition duration-500 ease-in-out transform tracking-relaxed lg:pr-8 flex items-center">
                <img src="{% static  'cobra.png' %}" alt="" class="w-14">
                DEVINFO </a>
            <button class="rounded-lg md:hidden focus:outline-none focus:shadow-outline" @click="open = !open">
                <svg fill="currentColor" viewBox="0 0 20 20" class="w-8 h-8">
                    <path x-show="!open" fill-rule="evenodd"
                        d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z"
                        clip-rule="evenodd"></path>
                    <path x-show="open" fill-rule="evenodd"
                        d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                        clip-rule="evenodd" style="display: none"></path>
                </svg>
            </button>
        </div>
        <div :class="{'flex': open, 'hidden': !open}"
            class="flex-col items-center flex-grow hidden pb-4 border-green-500 md:pb-0 md:flex md:justify-evenly md:flex-row lg:border-l-2 lg:pl-2">

            <a class="px-4 py-2 mt-2  md:inline-flex  items-center   text-sm text-gray-400 md:mt-0 hover:text-green-500 focus:outline-none focus:shadow-outline"
                href="#">
                <span class="flex justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24" style="fill: rgba(16, 185, 129, 1);transform: ;msFilter:;">
                        <path
                            d="M21 8c-.202 0-4.85.029-9 2.008C7.85 8.029 3.202 8 3 8a1 1 0 0 0-1 1v9.883a1 1 0 0 0 .305.719c.195.188.48.305.729.28l.127-.001c.683 0 4.296.098 8.416 2.025.016.008.034.005.05.011.119.049.244.083.373.083s.254-.034.374-.083c.016-.006.034-.003.05-.011 4.12-1.928 7.733-2.025 8.416-2.025l.127.001c.238.025.533-.092.729-.28.194-.189.304-.449.304-.719V9a1 1 0 0 0-1-1zM4 10.049c1.485.111 4.381.48 7 1.692v7.742c-3-1.175-5.59-1.494-7-1.576v-7.858zm16 7.858c-1.41.082-4 .401-7 1.576v-7.742c2.619-1.212 5.515-1.581 7-1.692v7.858z">
                        </path>
                        <circle cx="12" cy="5" r="3"></circle>
                    </svg></span>
                <span class="text-center">Blog</span>
            </a>
            <a class="px-4 py-2 mt-2  md:inline-flex  items-center   text-sm text-gray-400 md:mt-0 hover:text-green-500 focus:outline-none focus:shadow-outline"
                href="#">
                <span class="flex justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24" style="fill: rgba(16, 185, 129, 1);transform: ;msFilter:;">
                        <path
                            d="M6 22h15v-2H6.012C5.55 19.988 5 19.805 5 19s.55-.988 1.012-1H21V4c0-1.103-.897-2-2-2H6c-1.206 0-3 .799-3 3v14c0 2.201 1.794 3 3 3zM5 8V5c0-.805.55-.988 1-1h13v12H5V8z">
                        </path>
                        <path d="M8 6h9v2H8z"></path>
                    </svg></span>
                <span class="text-center">Cursos</span>
            </a>
            <a class="px-4 py-2 mt-2  md:inline-flex  items-center   text-sm text-gray-400 md:mt-0 hover:text-green-500 focus:outline-none focus:shadow-outline"
                href="#">
                <span class="flex justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24" style="fill: rgba(16, 185, 129, 1);transform: ;msFilter:;">
                        <path
                            d="M12 10c1.151 0 2-.848 2-2s-.849-2-2-2c-1.15 0-2 .848-2 2s.85 2 2 2zm0 1c-2.209 0-4 1.612-4 3.6v.386h8V14.6c0-1.988-1.791-3.6-4-3.6z">
                        </path>
                        <path
                            d="M19 2H5c-1.103 0-2 .897-2 2v13c0 1.103.897 2 2 2h4l3 3 3-3h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zm-5 15-2 2-2-2H5V4h14l.002 13H14z">
                        </path>
                    </svg></span>
                <span class="text-center">Sobre mi</span>
            </a>
            <a class="px-4 py-2 mt-2  md:inline-flex  items-center   text-sm text-gray-400 md:mt-0 hover:text-green-500 focus:outline-none focus:shadow-outline"
                href="#">
                <span class="flex justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24" style="fill: rgba(16, 185, 129, 1);transform: ;msFilter:;">
                        <path
                            d="M20 4H6c-1.103 0-2 .897-2 2v5h2V8l6.4 4.8a1.001 1.001 0 0 0 1.2 0L20 8v9h-8v2h8c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm-7 6.75L6.666 6h12.668L13 10.75z">
                        </path>
                        <path d="M2 12h7v2H2zm2 3h6v2H4zm3 3h4v2H7z"></path>
                    </svg></span>
                <span class="text-center">Contacto</span>
            </a>



            {% if not user.is_authenticated %}
            <div>
                <a href="{% url 'account_login' %}"
                    class="py-2 px-2 font-medium text-gray-500 rounded hover:bg-green-500 hover:text-white transition duration-300">Ingresar</a>
                <a href="{% url 'account_signup' %}"
                    class="py-2 px-2 font-medium text-white bg-green-500 rounded hover:bg-green-400 transition duration-300">Registrarse</a>
            </div>

            {% else %}
            <div x-data="{ open: false }" class=" md:flex justify-center items-center hidden">
                <div @click="open = !open" class="relative"
                    :class="{'hover:border-green-500 transform transition duration-300 ': open}"
                    x-transition:enter-end="transform " x-transition:leave="transition ease-in duration-75"
                    x-transition:leave-start="transform ">
                    <div class="flex justify-center items-center space-x-2 cursor-pointer">
                        <div class="w-8 h-8 rounded-full overflow-hidden ">
                            <img src="{{user.profile.pinture.url}}" alt="" class="w-full h-full object-cover">
                        </div>
                        <div class="font-semibold text-green-600 text-lg">
                            <div class="cursor-pointer capitalize">{{user.profile.user}}</div>
                        </div>
                    </div>
                    <div x-show="open" x-transition:enter="transition ease-out duration-100"
                        x-transition:enter-start="transform opacity-0 " x-transition:enter-end="transform opacity-100 "
                        x-transition:leave="transition ease-in duration-75"
                        x-transition:leave-start="transform opacity-100 " x-transition:leave-end="transform opacity-0 "
                        class="absolute  px-5 py-3 bg-white rounded-lg shadow border  mt-5">
                        <ul class="space-y-3 ">
                            <li class="font-medium">
                                <a href="{% url 'users:profile' username=user.profile.user %}"
                                    class="flex items-center transform transition-colors duration-200 border-r-4 border-transparent hover:border-green-500">
                                    <div class="mr-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
                                            height="24" style="fill: rgba(0, 0, 0, 1);transform: ;msFilter:;">
                                            <path
                                                d="M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm9 11v-1a7 7 0 0 0-7-7h-4a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1z">
                                            </path>
                                        </svg>
                                    </div>
                                    Cuenta
                                </a>
                            </li>

                            <hr class="">
                            <li class="font-medium">
                                <a href="{% url 'account_logout' %}"
                                    class="flex items-center transform transition-colors duration-200 border-r-4 border-transparent hover:border-red-600">
                                    <div class="mr-3 text-red-600">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
                                            </path>
                                        </svg>
                                    </div>
                                    Logout
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>


            </div>
            <div class="flex md:hidden">
                <a href="{% url 'users:profile' username=user.profile.user %}"
                    class="py-2 px-2 mx-4 font-medium text-gray-500 rounded  hover:text-green-500 transition duration-300 inline-flex items-center ">
                    <div class="w-9 h-9 rounded-full overflow-hidden ">
                        <img src="{{user.profile.pinture.url}}" alt="" class="w-full h-full object-cover ">
                    </div> Mi perfil
                </a>
                <a href="{% url 'account_logout' %}"
                    class="py-2 px-2 mx-4 font-medium text-gray-500 hover:text-green-500  rounded  transition duration-300 inline-flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        style="fill: rgba(16, 185, 129, 1);transform: ;msFilter:;">
                        <path d="M16 13v-2H7V8l-5 4 5 4v-3z"></path>
                        <path
                            d="M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z">
                        </path>
                    </svg>
                    Salir</a>
            </div>
            {% endif %}

        </div>
</nav>